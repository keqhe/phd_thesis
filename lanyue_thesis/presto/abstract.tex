\begin{abstract}

Datacenter networks deal with a variety of workloads, 
ranging from latency-sensitive small flows to bandwidth-hungry large flows. 
Load balancing schemes based on flow hashing, \eg{}ECMP, cause congestion 
when hash collisions occur and can perform poorly in asymmetric topologies. 
Recent proposals to load balance the network require centralized traffic engineering, multipath-aware
transport, or expensive specialized hardware.
We propose a mechanism that avoids these limitations by (i) pushing
load-balancing functionality into the soft network edge (\eg{}
virtual switches) such that no changes are required in the transport
layer, customer VMs, or networking hardware, and (ii) load balancing
on fine-grained, near-uniform units of data (flowcells) that fit
within end-host segment offload optimizations used to support fast
networking speeds.
We design and implement such a soft-edge load balancing scheme, called
Presto, and evaluate it on a 10 Gbps physical testbed.
We demonstrate the computational impact of packet reordering on
receivers and propose a mechanism to handle reordering in the TCP receive
offload functionality.
Presto's performance closely tracks that of a single, non-blocking
switch over many workloads and is adaptive to
failures and topology asymmetry.

\iffalse
Datacenter networks must deal with a variety of workloads,
ranging from latency-sensitive small flows to bandwidth-hungry large flows.
Flow hashing load balancing schemes, e.g. ECMP, cause congestion
when hash collisions occur and perform poorly in asymmetric topologies.
Recent proposals to effectively load balance the network require multipath-aware transport, 
centralized traffic engineering or expensive specialized hardware. Our scheme 
overcomes these limitations by (i) pushing load-balancing functionality into 
the emerging soft network edge (e.g. virtual switches) such that no changes 
are required in the transport layer, customer VMs, or networking hardware, 
and (ii) load balancing on fine-grained, near-uniform units of data that 
naturally fit within end-host segment offload optimizations used to support 
fast networking speeds
and near-optimally load balance over symmetric network topologies.
We uncover the problems of fine-grained load balancing on packet reordering and 
propose a scheme to handle 
them in TCP receive offload funtionality without touching transport.
We design and implement a soft-edge load balancing scheme and evaluate it on a real 
10G testbed. 
Its performance tracks the performance of a 
single, non-blocking switch over many workloads (including trace driven) 
and is adaptive to failures and topology asymmetry.
\fi

\end{abstract}
